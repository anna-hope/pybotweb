{% extends 'layout.html' %}
{# {# from 'forms.html' import input #} #}

{% macro make_form(name, caption, endpoint, form) -%}
<a class="admin_panel_link" data-form="{{ name }}">{{ caption }}</a>
<div id="{{ name }}" class="admin_panel">
<form id="{{ '{}_form'.format(name) }}" action="{{ url_for(endpoint) }}" method="POST">
{% for field in form %}
{{ field.label }}: {{ field() }}
<br>
{% endfor %}
<input type="submit" form="{{ '{}_form'.format(name) }}" value="submit">
</form>
</div>
{%- endmacro %}


{% block scripts %}
{{ super() }}
<script src="{{ url_for('static', filename='scripts/admin.js') }}"></script>
{% endblock %}

{% block header %}PyBot Administration{% endblock %}

{% block content %}

<div id="admin_content">

	{{ make_form('add_link', 'add a link', 'add_link', forms['links']) }}
	<br>
	{{ make_form('remove_link', 'remove links', 'remove_link', forms['remove_links']) }}
	<br>
	{{ make_form('change_header', 'change the header', 'change_header', forms['header_form']) }}
	<br>
	{{ make_form('change_footer', 'change the footer', 'change_footer', forms['footer_form']) }}

</div>

{% endblock %}